<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비흡연자의 쉬는시간</title>
<style>
    :root {
        --bg-main: #f4f1ea;
        --bg-panel: #ffffff;
        --bg-panel-dark: #f9f7f2;
        --border-main: #d1cdc0;
        --border-sub: #e2dfd5;
        --accent-main: #7a8b7c;
        --accent-soft: rgba(122, 139, 124, 0.1);
        --accent-gold: #8d7b68;
        --danger: #e27d60;
        --text-main: #4a4a4a;
        --text-sub: #7d7d7d;
    }

    body {
        margin: 0; padding: 0;
        background: radial-gradient(circle at top, #fdfcf9, #ebe7dc);
        font-family: 'Pretendard', system-ui, -apple-system, sans-serif;
        color: var(--text-main);
        min-height: 100vh;
    }

    .container {
        max-width: 500px;
        margin: 40px auto;
        padding: 40px;
        background: var(--bg-panel);
        border: 1px solid var(--border-main);
        border-radius: 24px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.05);
        position: relative; 
    }

    h1 {
        text-align: center;
        margin-bottom: 26px;
        font-size: 26px;
        font-weight: 700;
        color: var(--accent-gold);
    }

    .intro {
        margin-bottom: 30px;
        padding: 20px;
        background: #fdfcfb;
        border: 1px solid var(--border-sub);
        border-radius: 14px;
        line-height: 1.7;
        text-align: center;
        color: var(--text-sub);
        font-size: 14px;
    }

    .input-group {
        position: relative; /* 자동완성 목록 기준점 */
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 600;
        color: var(--text-main);
    }

    label span {
        font-size: 12px;
        color: var(--text-sub);
        font-weight: normal;
    }

    input {
        width: 100%;
        padding: 14px;
        font-size: 16px;
        background: #fff;
        color: var(--text-main);
        border: 1px solid var(--border-main);
        border-radius: 12px;
        box-sizing: border-box;
        transition: all 0.2s ease;
    }

    input:focus {
        outline: none;
        border-color: var(--accent-main);
        box-shadow: 0 0 0 3px var(--accent-soft);
    }

    /* --- 자동완성 목록(suggestions) 스타일 --- */
    #suggestions {
        list-style: none;
        padding: 0;
        margin: 0;
        position: absolute;
        top: 100%; 
        left: 0;
        right: 0;
        background: #fff;
        border: 1px solid var(--accent-main);
        border-radius: 0 0 12px 12px;
        max-height: 200px;
        overflow-y: auto;
        z-index: 999; 
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        display: none; /* 기본은 숨김 */
    }

    #suggestions li {
        padding: 12px 16px;
        cursor: pointer;
        font-size: 15px;
        border-bottom: 1px solid var(--border-sub);
    }

    #suggestions li:hover {
        background-color: var(--accent-soft);
        color: var(--accent-main);
        font-weight: 600;
    }

    button {
        width: 100%;
        margin-top: 10px;
        padding: 18px;
        font-size: 18px;
        font-weight: 700;
        background: linear-gradient(180deg, #8b9a8d, #7a8b7c);
        color: #ffffff;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: transform 0.1s, opacity 0.2s;
    }

    button:active { transform: scale(0.98); }

    .result {
        margin-top: 30px;
        padding: 25px;
        background: #f9f8f6;
        border: 1px dotted var(--border-main);
        border-radius: 14px;
        text-align: center;
        min-height: 60px;
    }

    #loading {
        display: none;
        text-align: center;
        margin-top: 15px;
        font-size: 14px;
        color: var(--accent-main);
    }
</style>
</head>
<body>
    <div class="container">
        <h1>시가 계산기</h1>
        <div class="intro">
            <strong>업데이트 : 2026/01/14</strong><br>
            정석 대비 <strong>차이값(+/-)</strong>을 입력하세요.<br>
            페트 이름 입력 시 자동으로 목록이 나타납니다.
        </div>

        <div class="input-group">
            <label for="pet-name">페트 이름</label>
            <input type="text" id="pet-name" placeholder="이름 또는 초성 입력" autocomplete="off">
            <ul id="suggestions"></ul>
        </div>

        <label for="diff-health">체력 차이 <span>(정석 대비)</span></label>
        <input type="number" id="diff-health" value="0">

        <label for="diff-attack">공격력 차이 <span>(정석 대비)</span></label>
        <input type="number" id="diff-attack" value="0">

        <label for="diff-defense">방어력 차이 <span>(정석 대비)</span></label>
        <input type="number" id="diff-defense" value="0">

        <label for="diff-agility">순발력 차이 <span>(정석 대비)</span></label>
        <input type="number" id="diff-agility" value="0">

        <button id="calculate-btn">계산하기</button>

        <div id="result" class="result"></div>
        <div id="loading">계산 중입니다...</div>
    </div>

    <script>
        // 1. 데이터 정의 (이곳에 데이터를 추가하세요)
        const petData = {
    "테로노돈": { "initialCoefficient": 21, "healthCoefficient": 28, "attackCoefficient": 27, "defenseCoefficient": 8, "agilityCoefficient": 36 },
    "고르고르": { "initialCoefficient": 21, "healthCoefficient": 20, "attackCoefficient": 31, "defenseCoefficient": 13, "agilityCoefficient": 28 },
    "킹북이": { "initialCoefficient": 20, "healthCoefficient": 24, "attackCoefficient": 20, "defenseCoefficient": 44, "agilityCoefficient": 5 },
    "타비스": { "initialCoefficient": 26, "healthCoefficient": 25, "attackCoefficient": 38, "defenseCoefficient": 15, "agilityCoefficient": 25 },
    "카이스": { "initialCoefficient": 26, "healthCoefficient": 26, "attackCoefficient": 37, "defenseCoefficient": 18, "agilityCoefficient": 22 },
    "카로스": { "initialCoefficient": 26, "healthCoefficient": 30, "attackCoefficient": 37, "defenseCoefficient": 15, "agilityCoefficient": 23 },
    "케이르": { "initialCoefficient": 26, "healthCoefficient": 25, "attackCoefficient": 40, "defenseCoefficient": 15, "agilityCoefficient": 23 },
    "우리": { "initialCoefficient": 10, "healthCoefficient": 24, "attackCoefficient": 24, "defenseCoefficient": 24, "agilityCoefficient": 25 },
    "두리": { "initialCoefficient": 20, "healthCoefficient": 25, "attackCoefficient": 29, "defenseCoefficient": 13, "agilityCoefficient": 26 },
    "얼룩우리": { "initialCoefficient": 15, "healthCoefficient": 22, "attackCoefficient": 24, "defenseCoefficient": 30, "agilityCoefficient": 17 },
    "환생얼룩우리": { "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 29, "defenseCoefficient": 20, "agilityCoefficient": 30 },
    "불그리" : { "initialCoefficient": 10, "healthCoefficient": 23, "attackCoefficient": 31, "defenseCoefficient": 13, "agilityCoefficient": 30 },
    "실버우리": { "initialCoefficient": 20, "healthCoefficient": 24, "attackCoefficient": 29, "defenseCoefficient": 19, "agilityCoefficient": 31 },
    "부비": { "initialCoefficient": 15, "healthCoefficient": 51, "attackCoefficient": 33, "defenseCoefficient": 16, "agilityCoefficient": 12 },
    "부이비": { "initialCoefficient": 16, "healthCoefficient": 52, "attackCoefficient": 36, "defenseCoefficient": 14, "agilityCoefficient": 12 },
    "골드부비": { "initialCoefficient": 25, "healthCoefficient": 49, "attackCoefficient": 35, "defenseCoefficient": 14, "agilityCoefficient": 13 },
    "얼룩부이비": { "initialCoefficient": 23, "healthCoefficient": 49, "attackCoefficient": 33, "defenseCoefficient": 18, "agilityCoefficient": 12 },
    "꼬미" : { "initialCoefficient": 22, "healthCoefficient": 22, "attackCoefficient": 27, "defenseCoefficient": 16, "agilityCoefficient": 27 },
    "꼬비": { "initialCoefficient": 20, "healthCoefficient": 22, "attackCoefficient": 25, "defenseCoefficient": 19, "agilityCoefficient": 27 },
    "꼬비오" : { "initialCoefficient": 18, "healthCoefficient": 22, "attackCoefficient": 25, "defenseCoefficient": 17, "agilityCoefficient": 29 },
    "꼬꼬비": { "initialCoefficient": 16, "healthCoefficient": 22, "attackCoefficient": 26, "defenseCoefficient": 16, "agilityCoefficient": 28 },
    "토루루": { "initialCoefficient": 19, "healthCoefficient": 23, "attackCoefficient": 26, "defenseCoefficient": 22, "agilityCoefficient": 28 },
    "타이혼": { "initialCoefficient": 30, "healthCoefficient": 22, "attackCoefficient": 32, "defenseCoefficient": 17, "agilityCoefficient": 32 },
    "라이혼" : { "initialCoefficient": 30, "healthCoefficient": 25, "attackCoefficient": 28, "defenseCoefficient": 24, "agilityCoefficient": 29 },
    "라나프": { "initialCoefficient": 28, "healthCoefficient": 19, "attackCoefficient": 30, "defenseCoefficient": 18, "agilityCoefficient": 29 },
    "모나시프": { "initialCoefficient": 25, "healthCoefficient": 22, "attackCoefficient": 30, "defenseCoefficient": 18, "agilityCoefficient": 32 },
    "오투투": { "initialCoefficient": 20, "healthCoefficient": 19, "attackCoefficient": 22, "defenseCoefficient": 14, "agilityCoefficient": 33 },
    "투투": { "initialCoefficient": 17, "healthCoefficient": 23, "attackCoefficient": 22, "defenseCoefficient": 11, "agilityCoefficient": 33 },
    "다고스": { "initialCoefficient": 18, "healthCoefficient": 30, "attackCoefficient": 34, "defenseCoefficient": 18, "agilityCoefficient": 23 },
    "타로곤": { "initialCoefficient": 17, "healthCoefficient": 24, "attackCoefficient": 33, "defenseCoefficient": 23, "agilityCoefficient": 24 },
    "보크곤": { "initialCoefficient": 19, "healthCoefficient": 24, "attackCoefficient": 33, "defenseCoefficient": 18, "agilityCoefficient": 24 },
    "아고아": { "initialCoefficient": 20, "healthCoefficient": 25, "attackCoefficient": 35, "defenseCoefficient": 17, "agilityCoefficient": 22 },
    "네고스": { "initialCoefficient": 20, "healthCoefficient": 28, "attackCoefficient": 33, "defenseCoefficient": 21, "agilityCoefficient": 23 },
    "로기안": { "initialCoefficient": 23, "healthCoefficient": 25, "attackCoefficient": 23, "defenseCoefficient": 39, "agilityCoefficient": 7 },
    "아이카스": { "initialCoefficient": 22, "healthCoefficient": 30, "attackCoefficient": 24, "defenseCoefficient": 38, "agilityCoefficient": 7 },
    "카르기안": { "initialCoefficient": 20, "healthCoefficient": 25, "attackCoefficient": 24, "defenseCoefficient": 27, "agilityCoefficient": 12 },
    "쿠카스": { "initialCoefficient": 22, "healthCoefficient": 26, "attackCoefficient": 23, "defenseCoefficient": 39, "agilityCoefficient": 6 },
    "쿠타스": { "initialCoefficient": 22, "healthCoefficient": 32, "attackCoefficient": 29, "defenseCoefficient": 37, "agilityCoefficient": 7 },
    "코로카스": { "initialCoefficient": 17, "healthCoefficient": 29, "attackCoefficient": 30, "defenseCoefficient": 37, "agilityCoefficient": 7 },
    "토리노프스": { "initialCoefficient": 12, "healthCoefficient": 26, "attackCoefficient": 30, "defenseCoefficient": 35, "agilityCoefficient": 12 },
    "토리케라": { "initialCoefficient": 18, "healthCoefficient": 25, "attackCoefficient": 24, "defenseCoefficient": 40, "agilityCoefficient": 10 },
    "펜타스": { "initialCoefficient": 16, "healthCoefficient": 31, "attackCoefficient": 25, "defenseCoefficient": 37, "agilityCoefficient": 11 },
    "토르프스": { "initialCoefficient": 14, "healthCoefficient": 23, "attackCoefficient": 24, "defenseCoefficient": 42, "agilityCoefficient": 10 },
    "메가로스": { "initialCoefficient": 24, "healthCoefficient": 34, "attackCoefficient": 32, "defenseCoefficient": 31, "agilityCoefficient": 11 },
    "노스토로스" :{ "initialCoefficient": 24, "healthCoefficient": 26, "attackCoefficient": 38, "defenseCoefficient": 21, "agilityCoefficient": 19 },
    "란베르스": { "initialCoefficient": 21, "healthCoefficient": 32, "attackCoefficient": 35, "defenseCoefficient": 21, "agilityCoefficient": 17 },
    "바로로크스": { "initialCoefficient": 22, "healthCoefficient": 30, "attackCoefficient": 30, "defenseCoefficient": 27, "agilityCoefficient": 18 },
    "코리토르스": { "initialCoefficient": 19, "healthCoefficient": 29, "attackCoefficient": 30, "defenseCoefficient": 29, "agilityCoefficient": 17 },
    "다이노로스": { "initialCoefficient": 24, "healthCoefficient": 47, "attackCoefficient": 33, "defenseCoefficient": 12, "agilityCoefficient": 19 },
    "스토라지": { "initialCoefficient": 21, "healthCoefficient": 48, "attackCoefficient": 30, "defenseCoefficient": 14, "agilityCoefficient": 19 },
    "아토라지": { "initialCoefficient": 20, "healthCoefficient": 49, "attackCoefficient": 30, "defenseCoefficient": 13, "agilityCoefficient": 19 },
    "아리노스": { "initialCoefficient": 26, "healthCoefficient": 46, "attackCoefficient": 30, "defenseCoefficient": 15, "agilityCoefficient": 19 },
    "타르노로스": { "initialCoefficient": 23, "healthCoefficient": 48, "attackCoefficient": 32, "defenseCoefficient": 12, "agilityCoefficient": 19 },
    "복우리": { "initialCoefficient": 20, "healthCoefficient": 23, "attackCoefficient": 29, "defenseCoefficient": 14, "agilityCoefficient": 22 },
    "푸우리": { "initialCoefficient": 20, "healthCoefficient": 27, "attackCoefficient": 32, "defenseCoefficient": 16, "agilityCoefficient": 29 },
    "푸푸": { "initialCoefficient": 13, "healthCoefficient": 17, "attackCoefficient": 20, "defenseCoefficient": 10, "agilityCoefficient": 32 },
    "우푸": { "initialCoefficient": 15, "healthCoefficient": 18, "attackCoefficient": 21, "defenseCoefficient": 7, "agilityCoefficient": 33 },
    "베론": { "initialCoefficient": 24, "healthCoefficient": 30, "attackCoefficient": 12, "defenseCoefficient": 30, "agilityCoefficient": 15 },
    "베로로크": { "initialCoefficient": 19, "healthCoefficient": 29, "attackCoefficient": 14, "defenseCoefficient": 32, "agilityCoefficient": 13 },
    "베로보크": { "initialCoefficient": 23, "healthCoefficient": 30, "attackCoefficient": 13, "defenseCoefficient": 31, "agilityCoefficient": 14 },
    "베로포리": { "initialCoefficient": 22, "healthCoefficient": 27, "attackCoefficient": 14, "defenseCoefficient": 28, "agilityCoefficient": 13 },
    "노북이": { "initialCoefficient": 14, "healthCoefficient": 19, "attackCoefficient": 17, "defenseCoefficient": 33, "agilityCoefficient": 8 },
    "북이": { "initialCoefficient": 14, "healthCoefficient": 18, "attackCoefficient": 18, "defenseCoefficient": 34, "agilityCoefficient": 7 },
    "깡북이": { "initialCoefficient": 12, "healthCoefficient": 19, "attackCoefficient": 20, "defenseCoefficient": 32, "agilityCoefficient": 9 }, 
    "돌북이": { "initialCoefficient": 12, "healthCoefficient": 19, "attackCoefficient": 20, "defenseCoefficient": 32, "agilityCoefficient": 9 }, 
    "라고고": { "initialCoefficient": 23, "healthCoefficient": 22, "attackCoefficient": 26, "defenseCoefficient": 20, "agilityCoefficient": 26 },
    "후바바": { "initialCoefficient": 24, "healthCoefficient": 22, "attackCoefficient": 24, "defenseCoefficient": 19, "agilityCoefficient": 27 },
    "루니": { "initialCoefficient": 22, "healthCoefficient": 23, "attackCoefficient": 23, "defenseCoefficient": 25, "agilityCoefficient": 22 },
    "카타르카스": { "initialCoefficient": 22, "healthCoefficient": 25, "attackCoefficient": 23, "defenseCoefficient": 40, "agilityCoefficient": 6 },
    "램가스": { "initialCoefficient": 20, "healthCoefficient": 19, "attackCoefficient": 27, "defenseCoefficient": 43, "agilityCoefficient": 10 },
    "리비노": { "initialCoefficient": 22, "healthCoefficient": 27, "attackCoefficient": 37, "defenseCoefficient": 19, "agilityCoefficient": 17 },
    "얀기로": { "initialCoefficient": 29, "healthCoefficient": 27, "attackCoefficient": 36, "defenseCoefficient": 16, "agilityCoefficient": 20 },
    "반보로": { "initialCoefficient": 27, "healthCoefficient": 25, "attackCoefficient": 37, "defenseCoefficient": 15, "agilityCoefficient": 21 },
    "반기노": { "initialCoefficient": 26, "healthCoefficient": 24, "attackCoefficient": 38, "defenseCoefficient": 16, "agilityCoefficient": 20 },
    "부르돈": { "initialCoefficient": 25, "healthCoefficient": 25, "attackCoefficient": 35, "defenseCoefficient": 14, "agilityCoefficient": 24 }, 
    "쿠링": { "initialCoefficient": 19, "healthCoefficient": 19, "attackCoefficient": 18, "defenseCoefficient": 20, "agilityCoefficient": 22 },
    "쿠쿠르": { "initialCoefficient": 20, "healthCoefficient": 20, "attackCoefficient": 18, "defenseCoefficient": 17, "agilityCoefficient": 24 },
    "포링": { "initialCoefficient": 18, "healthCoefficient": 18, "attackCoefficient": 20, "defenseCoefficient": 18, "agilityCoefficient": 24 }, 
    "리스키": { "initialCoefficient": 17, "healthCoefficient": 19, "attackCoefficient": 16, "defenseCoefficient": 19, "agilityCoefficient": 23 },
    "카비트": { "initialCoefficient": 18, "healthCoefficient": 14, "attackCoefficient": 19, "defenseCoefficient": 19, "agilityCoefficient": 27 },
    "케이비": { "initialCoefficient": 18, "healthCoefficient": 14, "attackCoefficient": 19, "defenseCoefficient": 19, "agilityCoefficient": 27 },
    "큐이": { "initialCoefficient": 15, "healthCoefficient": 13, "attackCoefficient": 20, "defenseCoefficient": 17, "agilityCoefficient": 25 },
    "골드카비트": { "initialCoefficient": 19, "healthCoefficient": 16, "attackCoefficient": 20, "defenseCoefficient": 16, "agilityCoefficient": 28 },
    "고르돈": { "initialCoefficient": 28, "healthCoefficient": 28, "attackCoefficient": 30, "defenseCoefficient": 28, "agilityCoefficient": 18 },
    "기라돈": { "initialCoefficient": 23, "healthCoefficient": 29, "attackCoefficient": 31, "defenseCoefficient": 25, "agilityCoefficient": 19 },
    "투르돈": { "initialCoefficient": 27, "healthCoefficient": 25, "attackCoefficient": 35, "defenseCoefficient": 19, "agilityCoefficient": 20 },
    "고르고": { "initialCoefficient": 27, "healthCoefficient": 25, "attackCoefficient": 37, "defenseCoefficient": 20, "agilityCoefficient": 21 },
    "휴보": { "initialCoefficient": 18, "healthCoefficient": 26, "attackCoefficient": 28, "defenseCoefficient": 25, "agilityCoefficient": 16 },
    "포보": { "initialCoefficient": 19, "healthCoefficient": 28, "attackCoefficient": 23, "defenseCoefficient": 26, "agilityCoefficient": 14 },
    "쿠보": { "initialCoefficient": 25, "healthCoefficient": 26, "attackCoefficient": 26, "defenseCoefficient": 26, "agilityCoefficient": 17 }, 
    "토로쟈": { "initialCoefficient": 21, "healthCoefficient": 25, "attackCoefficient": 26, "defenseCoefficient": 25, "agilityCoefficient": 16 }, 
    "부르보": { "initialCoefficient": 20, "healthCoefficient": 23, "attackCoefficient": 25, "defenseCoefficient": 24, "agilityCoefficient": 20 }, 
    "카쿠": { "initialCoefficient": 20, "healthCoefficient": 20, "attackCoefficient": 26, "defenseCoefficient": 16, "agilityCoefficient": 24 }, 
    "바카": { "initialCoefficient": 20, "healthCoefficient": 15, "attackCoefficient": 30, "defenseCoefficient": 16, "agilityCoefficient": 26 }, 
    "바우": { "initialCoefficient": 20, "healthCoefficient": 15, "attackCoefficient": 27, "defenseCoefficient": 16, "agilityCoefficient": 28 },
    "카우": { "initialCoefficient": 20, "healthCoefficient": 15, "attackCoefficient": 27, "defenseCoefficient": 19, "agilityCoefficient": 26 },
    "베르가": { "initialCoefficient": 24, "healthCoefficient": 23, "attackCoefficient": 29, "defenseCoefficient": 16, "agilityCoefficient": 25 }, 
    "베루루": { "initialCoefficient": 23, "healthCoefficient": 21, "attackCoefficient": 30, "defenseCoefficient": 13, "agilityCoefficient": 28 },
    "노르노르": { "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 31, "defenseCoefficient": 18, "agilityCoefficient": 31 },
    "고반케스": { "initialCoefficient": 18, "healthCoefficient": 29, "attackCoefficient": 35, "defenseCoefficient": 19, "agilityCoefficient": 16 },
    "쟈그라": { "initialCoefficient": 22, "healthCoefficient": 28, "attackCoefficient": 37, "defenseCoefficient": 17, "agilityCoefficient": 17 },
    "쟈그": { "initialCoefficient": 23, "healthCoefficient": 31, "attackCoefficient": 34, "defenseCoefficient": 17, "agilityCoefficient": 16 },
    "판지": { "initialCoefficient": 16, "healthCoefficient": 30, "attackCoefficient": 35, "defenseCoefficient": 18, "agilityCoefficient": 16 },
    "기가로스": { "initialCoefficient": 28, "healthCoefficient": 30, "attackCoefficient": 32, "defenseCoefficient": 30, "agilityCoefficient": 13 },
    "비트로스": { "initialCoefficient": 25, "healthCoefficient": 30, "attackCoefficient": 35, "defenseCoefficient": 28, "agilityCoefficient": 12 },
    "가가로스": { "initialCoefficient": 26, "healthCoefficient": 31, "attackCoefficient": 36, "defenseCoefficient": 27, "agilityCoefficient": 11 },
    "루이": { "initialCoefficient": 22, "healthCoefficient": 51, "attackCoefficient": 27, "defenseCoefficient": 24, "agilityCoefficient": 9 },
    "무이": { "initialCoefficient": 20, "healthCoefficient": 54, "attackCoefficient": 26, "defenseCoefficient": 24, "agilityCoefficient": 9 },
    "씨보스": { "initialCoefficient": 21, "healthCoefficient": 51, "attackCoefficient": 26, "defenseCoefficient": 26, "agilityCoefficient": 9 },
    "투이": { "initialCoefficient": 24, "healthCoefficient": 50, "attackCoefficient": 31, "defenseCoefficient": 23, "agilityCoefficient": 9 },
    "다이노": { "initialCoefficient": 25, "healthCoefficient": 38, "attackCoefficient": 27, "defenseCoefficient": 36, "agilityCoefficient": 6 },
    "다이노스": { "initialCoefficient": 26, "healthCoefficient": 42, "attackCoefficient": 26, "defenseCoefficient": 32, "agilityCoefficient": 7 },
    "프라키토스": { "initialCoefficient": 24, "healthCoefficient": 37, "attackCoefficient": 36, "defenseCoefficient": 28, "agilityCoefficient": 6 },
    "스텐토스": { "initialCoefficient": 28, "healthCoefficient": 40, "attackCoefficient": 26, "defenseCoefficient": 35, "agilityCoefficient": 5 }, 
    "프리토스": { "initialCoefficient": 28, "healthCoefficient": 37, "attackCoefficient": 32, "defenseCoefficient": 27, "agilityCoefficient": 10 },
    "만모": { "initialCoefficient": 27, "healthCoefficient": 50, "attackCoefficient": 27, "defenseCoefficient": 25, "agilityCoefficient": 8 }, 
    "만모르": { "initialCoefficient": 24, "healthCoefficient": 51, "attackCoefficient": 31, "defenseCoefficient": 20, "agilityCoefficient": 10 },
    "마모나스": { "initialCoefficient": 26, "healthCoefficient": 52, "attackCoefficient": 27, "defenseCoefficient": 24, "agilityCoefficient": 10 },
    "만모로스": { "initialCoefficient": 25, "healthCoefficient": 53, "attackCoefficient": 29, "defenseCoefficient": 20, "agilityCoefficient": 11 },
    "테라곤": { "initialCoefficient": 27, "healthCoefficient": 23, "attackCoefficient": 32, "defenseCoefficient": 18, "agilityCoefficient": 30 },
    "카르곤": { "initialCoefficient": 26, "healthCoefficient": 21, "attackCoefficient": 33, "defenseCoefficient": 16, "agilityCoefficient": 28 },
    "포이비스": { "initialCoefficient": 24, "healthCoefficient": 24, "attackCoefficient": 30, "defenseCoefficient": 20, "agilityCoefficient": 30 }, 
    "도라비스": { "initialCoefficient": 23, "healthCoefficient": 24, "attackCoefficient": 31, "defenseCoefficient": 20, "agilityCoefficient": 30 },
    "푸테라": { "initialCoefficient": 25, "healthCoefficient": 27, "attackCoefficient": 33, "defenseCoefficient": 17, "agilityCoefficient": 29 }, 
    "타키": { "initialCoefficient": 17, "healthCoefficient": 19, "attackCoefficient": 23, "defenseCoefficient": 12, "agilityCoefficient": 35 },
    "쿠쿠":{ "initialCoefficient": 20, "healthCoefficient": 18, "attackCoefficient": 23, "defenseCoefficient": 11, "agilityCoefficient": 36 }, 
    "호르쿠": { "initialCoefficient": 18, "healthCoefficient": 20, "attackCoefficient": 22, "defenseCoefficient": 13, "agilityCoefficient": 34 },
    "카키": { "initialCoefficient": 20, "healthCoefficient": 17, "attackCoefficient": 23, "defenseCoefficient": 11, "agilityCoefficient": 33 }, 
    "오가로스": { "initialCoefficient": 25, "healthCoefficient": 26, "attackCoefficient": 33, "defenseCoefficient": 25, "agilityCoefficient": 20 },
    "오르곤": { "initialCoefficient": 26, "healthCoefficient": 28, "attackCoefficient": 36, "defenseCoefficient": 21, "agilityCoefficient": 21 },
    "모가로스": { "initialCoefficient": 27, "healthCoefficient": 23, "attackCoefficient": 37, "defenseCoefficient": 20, "agilityCoefficient": 25 },
    "골로스": { "initialCoefficient": 28, "healthCoefficient": 23, "attackCoefficient": 35, "defenseCoefficient": 25, "agilityCoefficient": 21 },
    "프이토": { "initialCoefficient": 26, "healthCoefficient": 19, "attackCoefficient": 22, "defenseCoefficient": 25, "agilityCoefficient": 29 },
    "카우거": { "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 34, "defenseCoefficient": 16, "agilityCoefficient": 30 },
    "샤크론": { "initialCoefficient": 24, "healthCoefficient": 30, "attackCoefficient": 35, "defenseCoefficient": 16, "agilityCoefficient": 25 },
    "크랩": { "initialCoefficient": 20, "healthCoefficient": 39, "attackCoefficient": 29, "defenseCoefficient": 32, "agilityCoefficient": 5 },
    "킹크랩": { "initialCoefficient": 20, "healthCoefficient": 34, "attackCoefficient": 34, "defenseCoefficient": 32, "agilityCoefficient": 5 },
    "페르페": { "initialCoefficient": 22, "healthCoefficient": 28, "attackCoefficient": 31, "defenseCoefficient": 15, "agilityCoefficient": 30 },
    "쿠팡": { "initialCoefficient": 22, "healthCoefficient": 22, "attackCoefficient": 27, "defenseCoefficient": 15, "agilityCoefficient": 32 },
    "쿠아": { "initialCoefficient": 22, "healthCoefficient": 29, "attackCoefficient": 30, "defenseCoefficient": 15, "agilityCoefficient": 30 },
    "밍코": { "initialCoefficient": 22, "healthCoefficient": 27, "attackCoefficient": 31, "defenseCoefficient": 15, "agilityCoefficient": 30 }, 
    "슈우": { "initialCoefficient": 22, "healthCoefficient": 27, "attackCoefficient": 31, "defenseCoefficient": 17, "agilityCoefficient": 29 },
    "킹고르": { "initialCoefficient": 26, "healthCoefficient": 32, "attackCoefficient": 34, "defenseCoefficient": 22, "agilityCoefficient": 17 },
    "칼로스": { "initialCoefficient": 27, "healthCoefficient": 28, "attackCoefficient": 37, "defenseCoefficient": 19, "agilityCoefficient": 22 },
    "흑귀": { "initialCoefficient": 27, "healthCoefficient": 23, "attackCoefficient": 34, "defenseCoefficient": 18, "agilityCoefficient": 24 },
    "토라": { "initialCoefficient": 24, "healthCoefficient": 25, "attackCoefficient": 31, "defenseCoefficient": 15, "agilityCoefficient": 32 },
    "산타베르가": { "initialCoefficient": 23, "healthCoefficient": 25, "attackCoefficient": 32, "defenseCoefficient": 15, "agilityCoefficient": 26 }, 
    "스노밍코": { "initialCoefficient": 23, "healthCoefficient": 27, "attackCoefficient": 29, "defenseCoefficient": 17, "agilityCoefficient": 30 },
    "키파": { "initialCoefficient": 21, "healthCoefficient": 24, "attackCoefficient": 28, "defenseCoefficient": 12, "agilityCoefficient": 39 },
    "바우트": { "initialCoefficient": 24, "healthCoefficient": 36, "attackCoefficient": 38, "defenseCoefficient": 29, "agilityCoefficient": 3 },
    "갈푸스": { "initialCoefficient": 25, "healthCoefficient": 23, "attackCoefficient": 34, "defenseCoefficient": 13, "agilityCoefficient": 29 },
    "아이스만모": { "initialCoefficient": 27, "healthCoefficient": 53, "attackCoefficient": 31, "defenseCoefficient": 23, "agilityCoefficient": 8 },
    "구루마루": { "initialCoefficient": 23, "healthCoefficient": 22, "attackCoefficient": 33, "defenseCoefficient": 15, "agilityCoefficient": 24 },
    "차크론": { "initialCoefficient": 25, "healthCoefficient": 26, "attackCoefficient": 34, "defenseCoefficient": 13, "agilityCoefficient": 32 },
    "노르곤": { "initialCoefficient": 26, "healthCoefficient": 25, "attackCoefficient": 37, "defenseCoefficient": 16, "agilityCoefficient": 26 }, 
    "봉봉": { "initialCoefficient": 29, "healthCoefficient": 26, "attackCoefficient": 39, "defenseCoefficient": 16, "agilityCoefficient": 23 },
    "보르비스": { "initialCoefficient": 25, "healthCoefficient": 27, "attackCoefficient": 33, "defenseCoefficient": 18, "agilityCoefficient": 27 },
    "포레스트크랩": { "initialCoefficient": 20, "healthCoefficient": 36, "attackCoefficient": 29, "defenseCoefficient": 35, "agilityCoefficient": 5 },
    "포루나": { "initialCoefficient": 22, "healthCoefficient": 26, "attackCoefficient": 27, "defenseCoefficient": 13, "agilityCoefficient": 27 },
    "피피아": { "initialCoefficient": 22, "healthCoefficient": 23, "attackCoefficient": 25, "defenseCoefficient": 15, "agilityCoefficient": 25 }, 
    "그린고르": { "initialCoefficient": 26, "healthCoefficient": 30, "attackCoefficient": 32, "defenseCoefficient": 25, "agilityCoefficient": 17 },
    "아코로비": { "initialCoefficient": 23, "healthCoefficient": 27, "attackCoefficient": 35, "defenseCoefficient": 16, "agilityCoefficient": 25 },
    "황호": { "initialCoefficient": 25, "healthCoefficient": 25, "attackCoefficient": 32, "defenseCoefficient": 15, "agilityCoefficient": 31 },
    "이블티거": { "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 38, "defenseCoefficient": 17, "agilityCoefficient": 25 },
    "청호": { "initialCoefficient": 25, "healthCoefficient": 30, "attackCoefficient": 33, "defenseCoefficient": 17, "agilityCoefficient": 25 },
    "흑호": { "initialCoefficient": 25, "healthCoefficient": 25, "attackCoefficient": 34, "defenseCoefficient": 14, "agilityCoefficient": 30 },
    "노스키": { "initialCoefficient": 17, "healthCoefficient": 26, "attackCoefficient": 25, "defenseCoefficient": 18, "agilityCoefficient": 35 },
    "라스키": { "initialCoefficient": 17, "healthCoefficient": 26, "attackCoefficient": 30, "defenseCoefficient": 18, "agilityCoefficient": 29 },
    "토끼": { "initialCoefficient": 17, "healthCoefficient": 30, "attackCoefficient": 25, "defenseCoefficient": 23, "agilityCoefficient": 29 },
    "범링": { "initialCoefficient": 17, "healthCoefficient": 24, "attackCoefficient": 26, "defenseCoefficient": 25, "agilityCoefficient": 28 },
    "흑카키":{ "initialCoefficient": 20, "healthCoefficient": 15, "attackCoefficient": 26, "defenseCoefficient": 8, "agilityCoefficient": 34 }, 
    "핑코":{ "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 38, "defenseCoefficient": 14, "agilityCoefficient": 28 },
    "가우": { "initialCoefficient": 25, "healthCoefficient": 32, "attackCoefficient": 37, "defenseCoefficient": 16, "agilityCoefficient": 22 },
    "익시노돈": { "initialCoefficient": 23, "healthCoefficient": 22, "attackCoefficient": 27, "defenseCoefficient": 9, "agilityCoefficient": 36 },
    "라그노스": { "initialCoefficient": 24, "healthCoefficient": 34, "attackCoefficient": 36, "defenseCoefficient": 31, "agilityCoefficient": 6 },
    "모사크": { "initialCoefficient": 22, "healthCoefficient": 31, "attackCoefficient": 38, "defenseCoefficient": 15, "agilityCoefficient": 22 },
    "크루거": { "initialCoefficient": 26, "healthCoefficient": 25, "attackCoefficient": 33, "defenseCoefficient": 18, "agilityCoefficient": 29 },
    "황금복덩이": { "initialCoefficient": 20, "healthCoefficient": 22, "attackCoefficient": 25, "defenseCoefficient": 20, "agilityCoefficient": 27 },
    "크로아치": { "initialCoefficient": 24, "healthCoefficient": 28, "attackCoefficient": 36, "defenseCoefficient": 19, "agilityCoefficient": 21 },
    "타키온": { "initialCoefficient": 22, "healthCoefficient": 25, "attackCoefficient": 31, "defenseCoefficient": 13, "agilityCoefficient": 29 },
    "그램고르": { "initialCoefficient": 26, "healthCoefficient": 33, "attackCoefficient": 32, "defenseCoefficient": 24, "agilityCoefficient": 16 },
    "바라쿠스": { "initialCoefficient": 24, "healthCoefficient": 34, "attackCoefficient": 31, "defenseCoefficient": 34, "agilityCoefficient": 6 },
    "아르마루": { "initialCoefficient": 23, "healthCoefficient": 28, "attackCoefficient": 36, "defenseCoefficient": 18, "agilityCoefficient": 23 },
    "라이쿠스": { "initialCoefficient": 25, "healthCoefficient": 38, "attackCoefficient": 31, "defenseCoefficient": 31, "agilityCoefficient": 6 },
    "흑룡": { "initialCoefficient": 25, "healthCoefficient": 24, "attackCoefficient": 35, "defenseCoefficient": 14, "agilityCoefficient": 31 },
    "흑기린": { "initialCoefficient": 26, "healthCoefficient": 29, "attackCoefficient": 40, "defenseCoefficient": 17, "agilityCoefficient": 19 },
    "우라노스":{ "initialCoefficient": 25, "healthCoefficient": 25, "attackCoefficient": 33, "defenseCoefficient": 17, "agilityCoefficient": 29 },
    "타이판":{ "initialCoefficient": 24, "healthCoefficient": 26, "attackCoefficient": 33, "defenseCoefficient": 12, "agilityCoefficient": 23 },
    "지라크":{ "initialCoefficient": 24, "healthCoefficient": 21, "attackCoefficient": 32, "defenseCoefficient": 16, "agilityCoefficient": 23 },
    "웅이":{ "initialCoefficient": 24, "healthCoefficient": 30, "attackCoefficient": 37, "defenseCoefficient": 15, "agilityCoefficient": 22 },
    "파베로스":{ "initialCoefficient": 24, "healthCoefficient": 23, "attackCoefficient": 36, "defenseCoefficient": 14, "agilityCoefficient": 30 },
    "디메트로돈":{ "initialCoefficient": 24, "healthCoefficient": 35, "attackCoefficient": 30, "defenseCoefficient": 30, "agilityCoefficient": 11 },
    "파이톤":{ "initialCoefficient": 24, "healthCoefficient": 22, "attackCoefficient": 35, "defenseCoefficient": 11, "agilityCoefficient": 23 },
    "본드래곤":{ "initialCoefficient": 25, "healthCoefficient": 27, "attackCoefficient": 36, "defenseCoefficient": 17, "agilityCoefficient": 25 },
    "샤르페":{ "initialCoefficient": 23, "healthCoefficient": 24, "attackCoefficient": 33, "defenseCoefficient": 15, "agilityCoefficient": 30 }


        };


        let currentIdealStats = null;

        // 2. 초성 추출 함수
        function getChosung(str) {
            const cho = ["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"];
            let result = "";
            for(let i=0; i<str.length; i++) {
                let code = str.charCodeAt(i) - 44032;
                if(code > -1 && code < 11172) result += cho[Math.floor(code/588)];
                else result += str.charAt(i);
            }
            return result;
        }

        // 3. 정석 스탯 계산 로직
        function calculateIdealStats(pet) {
            const bH = pet.healthCoefficient + 2 + 2.5;
            const bA = pet.attackCoefficient + 2 + 2.5;
            const bD = pet.defenseCoefficient + 2 + 2.5;
            const bG = pet.agilityCoefficient + 2 + 2.5;

            const iH = (bH * pet.initialCoefficient) / 100;
            const iA = (bA * pet.initialCoefficient) / 100;
            const iD = (bD * pet.initialCoefficient) / 100;
            const iG = (bG * pet.initialCoefficient) / 100;

            return {
                health: Math.floor(iH * 4 + iA + iD + iG),
                attack: Math.floor(iH * 0.1 + iA + iD * 0.1 + iG * 0.05),
                defense: Math.floor(iH * 0.1 + iA * 0.1 + iD + iG * 0.05),
                agility: Math.floor(iG)
            };
        }

        const petNameInput = document.getElementById("pet-name");
        const suggestions = document.getElementById("suggestions");

        function selectPet(name) {
            petNameInput.value = name;
            suggestions.innerHTML = "";
            suggestions.style.display = "none";
            currentIdealStats = calculateIdealStats(petData[name]);
            document.getElementById("diff-health").focus();
        }

        // 입력창 자동완성 이벤트
        petNameInput.addEventListener("input", () => {
            const query = petNameInput.value.trim();
            suggestions.innerHTML = "";
            if (!query) {
                suggestions.style.display = "none";
                return;
            }

            const queryChosung = getChosung(query);
            const matches = Object.keys(petData).filter(name => 
                name.includes(query) || getChosung(name).includes(queryChosung)
            );

            if (matches.length > 0) {
                suggestions.style.display = "block";
                matches.forEach(match => {
                    const li = document.createElement("li");
                    li.textContent = match;
                    li.onclick = () => selectPet(match);
                    suggestions.appendChild(li);
                });
            } else {
                suggestions.style.display = "none";
            }
        });

        // 엔터키 처리
        petNameInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
                const firstLi = suggestions.querySelector("li");
                if (firstLi) firstLi.click();
            }
        });

        // 바탕 클릭 시 닫기
        document.addEventListener("click", (e) => {
            if (e.target !== petNameInput) {
                suggestions.style.display = "none";
            }
        });

        // 계산 버튼 클릭
        document.getElementById("calculate-btn").addEventListener("click", () => {
            const name = petNameInput.value;
            if (!petData[name] || !currentIdealStats) {
                alert("정확한 페트 이름을 선택해주세요!");
                return;
            }

            document.getElementById("loading").style.display = "block";
            document.getElementById("result").innerHTML = "";

            setTimeout(() => {
                const tH = currentIdealStats.health + parseInt(document.getElementById("diff-health").value || 0);
                const tA = currentIdealStats.attack + parseInt(document.getElementById("diff-attack").value || 0);
                const tD = currentIdealStats.defense + parseInt(document.getElementById("diff-defense").value || 0);
                const tG = currentIdealStats.agility + parseInt(document.getElementById("diff-agility").value || 0);

                const pet = petData[name];
                let matched = 0, hCases = 0;

                for (let hR = -2; hR <= 2; hR++) {
                    for (let aR = -2; aR <= 2; aR++) {
                        for (let dR = -2; dR <= 2; dR++) {
                            for (let gR = -2; gR <= 2; gR++) {
                                for (let hB = 0; hB <= 10; hB++) {
                                    for (let aB = 0; aB <= 10; aB++) {
                                        for (let dB = 0; dB <= 10; dB++) {
                                            const gB = 10 - hB - aB - dB;
                                            if (gB < 0 || gB > 10) continue;

                                            const iH = ((pet.healthCoefficient + hR + hB) * pet.initialCoefficient) / 100;
                                            const iA = ((pet.attackCoefficient + aR + aB) * pet.initialCoefficient) / 100;
                                            const iD = ((pet.defenseCoefficient + dR + dB) * pet.initialCoefficient) / 100;
                                            const iG = ((pet.agilityCoefficient + gR + gB) * pet.initialCoefficient) / 100;

                                            if (Math.floor(iH * 4 + iA + iD + iG) === tH &&
                                                Math.floor(iH * 0.1 + iA + iD * 0.1 + iG * 0.05) === tA &&
                                                Math.floor(iH * 0.1 + iA * 0.1 + iD + iG * 0.05) === tD &&
                                                Math.floor(iG) === tG) {
                                                matched++;
                                                if (hR === 2 && aR === 2 && dR === 2 && gR === 2) hCases++;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }

                if (matched === 0) {
                    document.getElementById("result").textContent = "존재할 수 없는 스탯 조합입니다.";
                } else {
                    const p = ((hCases / matched) * 100).toFixed(2);
                    const realP = p === "100.00" ? "99.9" : p;
                    const expected = p > 0 ? (100 / p).toFixed(1) : "∞";
                    
                    document.getElementById("result").innerHTML = `
                        <div>성공 확률 : <strong>${realP}%</strong></div>
                        <div style="margin-top:10px; font-size:14px; color:var(--text-sub);">
                            성공 기대값 : 약 <strong>${expected}번</strong> 시도<br>
                            <span style="font-size:11px;">(입력된 실제 스탯: ${tH} ${tA} ${tD} ${tG})</span>
                        </div>
                    `;
                }
                document.getElementById("loading").style.display = "none";
            }, 100);
        });
    </script>
</body>
</html>





